---
sidebar_position: 9
title: 常用结构体说明
---

## 通用字段说明

| 字段名         | 类型   | 字符串长度限制 | 说明                                                             | 取值说明                                                                                     |
| -------------- | ------ | -------------- | ---------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| secret         | string | 32             | OpenIM 秘钥，服务端 config/share.yml 的 secret 字段              | 字符串                                                                                       |
| platformID     | int    |                | 用户登录时的终端类型                                             | iOS 1, Android 2, Windows 3, OSX 4, WEB 5, 小程序 6，linux 7, AndroidPad 8, IPad 9, Admin 10 |
| userID         | string | 64             | 用户 ID，保证 IM 内唯一                                          | 字符串                                                                                       |
| nickname       | string | 255            | 昵称                                                             | 字符串                                                                                       |
| faceURL        | string | 255            | 头像链接地址                                                     | URL 链接                                                                                     |
| ex             | string | 1024           | 扩展字段，可自行扩展，建议封装成 JSON 字符串                     | 字符串/JSON                                                                                  |
| operationID    | string |                | 操作 ID，用于定位问题，保持唯一，建议用当前时间、随机数和 userID | 字符串                                                                                       |
| operatorUserID | string | 64             | 操作者，具体含义视上下文而定                                     | 字符串                                                                                       |
| groupID        | string | 64             | 群 ID ，保证 IM 内唯一                                            | 字符串                                                                                       |

## PublicUserInfo

> 用户公共信息对象

| 字段名   | 类型   | 最大字符串长度限制 | 说明     |
| -------- | ------ | ------------------ | -------- |
| userID   | string | 64                 | 用户 ID  |
| nickname | string | 255                | 用户名   |
| faceURL  | string | 255                | 用户头像 |
| ex       | string | 1024               | 扩展字段 |

## UserInfo

> 用户信息对象

| 字段名           | 类型   | 最大字符串长度限制 | 说明                 | 取值说明           |
| ---------------- | ------ | ------------------ | -------------------- | ------------------ |
| userID           | string |                    | 用户 ID              |                    |
| nickname         | string |                    | 用户名               |                    |
| faceURL          | string |                    | 用户头像             |                    |
| ex               | string |                    | 扩展字段             |                    |
| createTime       | int    |                    | 创建时间             |                    |
| appMangerLevel   | int    |                    | 内部字段，可忽略     |                    |
| globalRecvMsgOpt | int    |                    | 全局是否接收离线推送 | 0：接收、2：不接收 |

## FriendInfo

> 好友信息对象

| 字段名         | 类型                  | 最大字符串长度限制 | 说明         | 取值说明 |
| -------------- | --------------------- | ------------------ | ------------ | -------- |
| ownerUserID    | string                |                    | 用户 ID      |          |
| remark         | string                |                    | 备注         |          |
| createTime     | int                   |                    | 创建时间     |          |
| addSource      | int                   |                    | 添加来源     |          |
| operatorUserID | string                |                    | 操作者 ID    |          |
| ex             | string                |                    | 扩展字段     |          |
| friendUser     | [UserInfo](#userinfo) | -                  | 用户信息对象 |          |

## BlackInfo

> 黑名单信息对象

| 字段名         | 类型                              | 最大字符串长度限制 | 说明           | 取值说明 |
| -------------- | --------------------------------- | ------------------ | -------------- | -------- |
| ownerUserID    | string                            |                    | 用户 ID        |          |
| createTime     | int                               |                    | 拉黑时间       |          |
| blackUserInfo  | [PublicUserInfo](#publicuserinfo) |                    | 被拉黑用户信息 |          |
| addSource      | int                               |                    | 拉黑来源       |          |
| operatorUserID | string                            |                    | 操作者 ID      |          |
| ex             | string                            |                    | 扩展字段       |          |

## GroupInfo

> 群信息对象

| 字段名                 | 类型   | 最大字符串长度限制 | 说明                     | 取值说明                                                                                              |
| ---------------------- | ------ | ------------------ | ------------------------ | ----------------------------------------------------------------------------------------------------- |
| groupID                | string |                    | 群 ID                    |                                                                                                       |
| groupName              | string |                    | 群名称                   |                                                                                                       |
| notification           | string |                    | 群公告                   |                                                                                                       |
| introduction           | string |                    | 群介绍                   |                                                                                                       |
| faceURL                | string |                    | 群头像                   |                                                                                                       |
| ownerUserID            | string |                    | 群主 ID                  |                                                                                                       |
| createTime             | int    |                    | 创建时间                 |                                                                                                       |
| memberCount            | int    |                    | 群成员数量               |                                                                                                       |
| ex                     | string |                    | 群扩展字段               |                                                                                                       |
| status                 | int    |                    | 群状态                   | 0：正常状态、1：被封禁（暂未用）、2：被解散、3：处于全体禁言状态                                      |
| creatorUserID          | string |                    | 群创建者 ID              |                                                                                                       |
| groupType              | int    |                    | 群类型                   | 固定为 2                                                                                              |
| needVerification       | int    |                    | 进群是否需要验证         | 0：申请加入群需要同意，成员邀请可直接进群、1：所有人进群需要验证，除了群主管理员邀请进群、2：直接进群 |
| lookMemberInfo         | int    |                    | 是否能查看其他群成员信息 | 0：允许查看群成员信息、1：不允许查看群成员信息                                                        |
| applyMemberFriend      | int    |                    | 群成员是否能添加好友     | 0：允许从群成员处添加好友、1：不允许添加                                                              |
| notificationUpdateTime | int    |                    | 群公告最后更新时间       |                                                                                                       |
| notificationUserID     | string |                    | 群公告最后设置用户 ID    |                                                                                                       |

## GroupMemberInfo

> 群成员信息对象

| 字段名         | 类型   | 最大字符串长度限制 | 说明              | 取值说明                                               |
| -------------- | ------ | ------------------ | ----------------- | ------------------------------------------------------ |
| groupID        | string |                    | 群 ID             |                                                        |
| userID         | string |                    | 群成员 ID         |                                                        |
| roleLevel      | int    |                    | 群成员等级        | 100：群主、60：管理员、20：普通成员                    |
| joinTime       | int    |                    | 群成员加群时间    |                                                        |
| nickname       | string |                    | 群成员群昵称      |                                                        |
| faceURL        | string |                    | 群成员群头像      |                                                        |
| appMangerLevel | int    |                    | 内部字段，可忽略  |                                                        |
| joinSource     | int    |                    | 加群来源          | 1：管理员邀请、2：群成员邀请、3：搜索加入、4：扫码加入 |
| operatorUserID | string |                    | 操作加群的用户 ID |                                                        |
| ex             | string |                    | 群成员扩展字段    |                                                        |
| muteEndTime    | int    |                    | 封禁结束时间      |                                                        |
| inviterUserID  | string |                    | 邀请进群的人的 ID |                                                        |

## FriendRequestInfo

> 好友申请对象

| 字段名        | 类型   | 最大字符串长度限制 | 说明                | 取值说明                     |
| ------------- | ------ | ------------------ | ------------------- | ---------------------------- |
| fromUserID    | string |                    | 发出申请者的用户 ID |                              |
| fromNickname  | string |                    | 发出申请者的用户名  |                              |
| fromFaceURL   | string |                    | 发出申请者的头像    |                              |
| toUserID      | string |                    | 接收申请者的用户 ID |                              |
| toNickname    | string |                    | 接收申请者的用户名  |                              |
| toFaceURL     | string |                    | 接收申请者的头像    |                              |
| handleResult  | int    |                    | 好友申请处理状态    | 1：同意、0：未处理、-1：拒绝 |
| reqMsg        | string |                    | 申请的信息          |                              |
| createTime    | int    |                    | 创建时间            |                              |
| handlerUserID | string |                    | 处理者的 ID         |                              |
| handleMsg     | string |                    | 处理信息            |                              |
| handleTime    | int    |                    | 处理时间            |                              |
| ex            | string |                    | 扩展字段            |                              |

## GroupRequestInfo

> 入群申请对象

| 字段名        | 类型                              | 最大字符串长度限制 | 说明               | 取值说明                                               |
| ------------- | --------------------------------- | ------------------ | ------------------ | ------------------------------------------------------ |
| userInfo      | [PublicUserInfo](#publicuserinfo) |                    | 申请加群的用户信息 |                                                        |
| groupInfo     | [GroupInfo](#groupinfo)           |                    | 群组信息           |                                                        |
| handleResult  | int                               |                    | 处理结果           | 1：同意、0：未处理、-1：拒绝                           |
| reqMsg        | string                            |                    | 申请加群的消息     |                                                        |
| handleMsg     | string                            |                    | 处理的信息         |                                                        |
| reqTime       | int                               |                    | 申请时间           |                                                        |
| handleUserID  | string                            |                    | 处理的用户 ID      |                                                        |
| handleTime    | int                               |                    | 处理的时间         |                                                        |
| ex            | string                            |                    | 群申请扩展字段     |                                                        |
| joinSource    | int                               |                    | 加群来源           | 1：管理员邀请、2：群成员邀请、3：搜索加入、4：扫码加入 |
| inviterUserID | string                            |                    | 被邀请者的 ID      |

## PictureBaseInfo

> 图片基本信息

| 字段名 | 类型   | 最大字符串长度限制 | 说明          | 取值范围 |
| ------ | ------ | ------------------ | ------------- | -------- |
| uuid   | string |                    | 图片唯一 uuid |
| type   | string |                    | 图片类型      |
| size   | int    |                    | 图片大小      |
| width  | int    |                    | 图片宽度      |
| height | int    |                    | 图片高度      |

## ConversationInfo

> 会话信息

| 字段名                | 类型    | 最大字符串长度限制 | 说明                                                                      | 取值范围 |
| --------------------- | ------- | ------------------ | ------------------------------------------------------------------------- | -------- |
| ownerUserID           | string  |                    | 会话的拥有者用户 ID                                                       |
| conversationID        | string  |                    | 会话 ID                                                                   |
| recvMsgOpt            | int     |                  | 接收消息参数，0 为接收消息，1 为不接收消息，2 为接收消息但不提醒          |
| conversationType      | int     |                    | 会话类型，1 为单聊，3 为群聊                                              |
| userID                | string  |                    | 会话用户 ID，当会话类型为 1 时，此字段生效                                |
| groupID               | string  |                    | 会话的群 ID，当会话类型为 3 时，此字段生效                                |
| isPinned              | boolean |                    | 会话是否置顶                                                              |
| attachedInfo          | string  |                    | openIM 使用的拓展字段                                                     |
| isPrivateChat         | boolean |                    | 是否开启阅后即焚                                                          |
| groupAtType           | int     |                    | 群会话公告强提示类型，群公告有人**@ownerUserID** , **@全体** 的特殊标识符 |
| ex                    | string  |                    | 用户使用的拓展字段                                                        |
| burnDuration          | int     |                    | 阅后即焚消息持续时间                                                      |
| minSeq                | int     |                    | 该用户在该会话能拉取到的最小 seq                                          |
| maxSeq                | int     |                    | 该用户在该会话能拉取到的最大 seq                                          |
| msgDestructTime       | int     |                    | 消息销毁间隔时间                                                          |
| latestMsgDestructTime | int     |                    | 消息最后销毁时间                                                          |
| isMsgDestruct         | boolean |                    | 是否开启消息定时销毁                                                      |
