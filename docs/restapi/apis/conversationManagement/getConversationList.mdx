---
sidebar_position: 8
title: 获取排序后的会话列表
hide_title: true
---

<center>

    ## 获取会话列表

</center>

### 简要描述
- 根据是否置顶、发消息的时间先后获取排序后的会话列表。
### 请求方式
- `post`
### 请求URL
- `http://x.x.x.x:10002/conversation/get_conversations_list`


### Header
|header名|示例值|选填|类型|说明|
|:----    |:-------    |:--- |---|------      |
|token|{{token}}|是|string|管理员token|
|operationID|1646445464564|是|string|operationID用于全局链路追踪|


### 请求参数示例


```json
{
  "userID": "9906953281",
  "conversationIDs": ["si_2699373280_9906953281"]
}

```
|字段名|选填|类型|说明|
|:----    |:-------    |:--- |---|
|userID|是|string|当前用户ID|
|conversationIDs|否|string|会话ID列表|

### 成功返回示例
```json
{
  "errCode": 0,
  "errMsg": "",
  "errDlt": "",
  "data": {
    "conversationElems": [
      {
        "conversationID": "si_113_openIM123456",
        "recvMsgOpt": 0,
        "unreadCount": 1,
        "msgInfo": {
          "serverMsgID": "35680b92f34748e44a019a8ed032d069",
          "clientMsgID": "21a7b9288f0513d60436b921eaf2a58d",
          "sessionType": 1,
          "sendID": "openIM123456",
          "recvID": "113",
          "senderName": "system1",
          "faceURL": "",
          "groupID": "",
          "groupName": "",
          "groupFaceURL": "",
          "groupType": 0,
          "groupMemberCount": 0,
          "LatestMsgRecvTime": 1691112630980,
          "msgFrom": 200,
          "contentType": 101,
          "content": "{\"content\":\"hello!!\"}"
        },
        "IsPinned": false
      },
      {
        "conversationID": "si_113_115",
        "recvMsgOpt": 0,
        "unreadCount": 2,
        "msgInfo": {
          "serverMsgID": "f92c50b483367c30ae722a7c159f8224",
          "clientMsgID": "1b237f247a256a7fb29b78f3f851fba7",
          "sessionType": 1,
          "sendID": "115",
          "recvID": "113",
          "senderName": "yourNickname",
          "faceURL": "yourFaceURL",
          "groupID": "",
          "groupName": "",
          "groupFaceURL": "",
          "groupType": 0,
          "groupMemberCount": 0,
          "LatestMsgRecvTime": 1691112530990,
          "msgFrom": 200,
          "contentType": 101,
          "content": "{\"content\":\"hello!!\"}"
        },
        "IsPinned": false
      },
      {
        "conversationID": "si_113_114",
        "recvMsgOpt": 0,
        "unreadCount": 5,
        "msgInfo": {
          "serverMsgID": "8045334601bba9affd598132c8eacf9f",
          "clientMsgID": "a10fb98bc126d82fc0c1dc31e9716a97",
          "sessionType": 1,
          "sendID": "114",
          "recvID": "113",
          "senderName": "yourNickname",
          "faceURL": "yourFaceURL",
          "groupID": "",
          "groupName": "",
          "groupFaceURL": "",
          "groupType": 0,
          "groupMemberCount": 0,
          "LatestMsgRecvTime": 1621112530990,
          "msgFrom": 200,
          "contentType": 101,
          "content": "{\"content\":\"hello!!\"}"
        },
        "IsPinned": false
      }
    ]
  }
}

```
### 成功返回示例的参数说明


| 字段名               | 选填       | 类型                                                     | 说明                                                                               |
|:------------------|:---------|:-------------------------------------------------------|----------------------------------------------------------------------------------|
| errCode           | int      | 错误码,0表示成功                                              |
| errMsg            | string   | 错误简要信息,无错误时为空                                          |
| errDlt            | errDlt   | 错误详细信息,无错误时为空                                          |
| data              | object   | 通用数据对象，具体结构见下方                                         |
| conversationElems | 	array	  | 无                                                      |
| conversationID	   | string   | 	会话ID                                                  |
| recvMsgOpt	       | string   | 	群聊消息免打扰                                               |
| unreadCount	      | string   | 	未读消息数                                                 |
| msgInfo	          | object   | 	消息内容                                                  |
| serverMsgID       | 	string	 | 服务器消息ID                                                |
| clientMsgID       | 	string	 | 客户端消息ID                                                |
| sessionType       | 	string  | 	会话类型，发送的消息是单聊还是群聊,单聊为1，群聊（普通写扩散）为2,大群(读扩散接口)为3，通知会话为4 |
| recvID	           | string	  | 接收者ID                                                  |
| SendID	           | string	  | 发送者ID                                                  |
| faceURL           | 	string  | 	头像URL。在单聊中，当发送者为当前用户时，该字段为好友头像URL                     |
| senderName        | 	string  | 	发送者呢称。在单聊中，当发送者为当前用户时，该字段为好友呢称。在群聊中，该字段为对应的发送者呢称      |
| LatestMsgRecvTime | 	string  | 	最后一条消息的接收时间                                           |
| msgFrom	          | string	  | 消息来源，100来源于用户发送，200来源于管理员发送或者系统广播通知等                   |
| content           | 必填       | object                                                 | 消息的具体内容，内部是json 对象，其他消息的详细字段请参考[消息类型格式描述](docs/restapi/contentDescription.mdx)文档 |
| contentType       | 必填       | int                                                    | [消息类型](docs/restapi/contentDescription.mdx)                                      |
| groupID	          | string	  | 群聊ID                                                   |
| groupName	        | string	  | 群聊名称                                                   |
| groupFaceURL      | 	string  | 	群聊头像URL                                               |
| groupMemberCount  | 	string  | 	群聊人数                                                  |
| IsPinned	         | string   | 	会话是否置顶                                                |


### 失败返回示例
```json
{
    "errCode": 1004,
    "errMsg": "RecordNotFoundError",
    "errDlt": ": 1004 RecordNotFoundError"
}
```
### 失败返回示例的参数说明


|参数名|类型|说明|
|:----    |:-------    |:--- |
|errCode|int|错误码,具体查看全局错误码文档|
|errMsg|string|错误简要信息|
|errDlt|errDlt|错误详细信息|
