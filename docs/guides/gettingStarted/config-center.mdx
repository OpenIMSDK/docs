---
title: '配置中心'
sidebar_position: 11 
---

# OpenIM配置中心说明

## 介绍



配置中心是 OpenIM 提供的可视化配置管理模块，支持用户在图形化界面中便捷地修改服务端配置，并可根据最新配置自动重启相应服务并应用变更。该配置中心分别面向 OpenIMServer 和 Chat 两个系统，二者相互独立，即便存在相同字段（例如 secret），也需要在各自系统中分别修改。

在之前的版本中，开发者可以通过以下两种方式修改配置：  
- **源码部署**：手动编辑 `config` 目录下的配置文件，并重启服务。  
- **Docker 部署**：设置相应的环境变量，并重启 Docker 容器。  

上述两种方式统称为“本地修改”或“本地配置文件”方式。



## 使用说明

### 访问界面

在浏览器中输入 `http://your_server_ip:11002` 来访问管理后台。`your_server_ip` 为服务端部署机器`ip`地址，确保您的浏览器能访问。默认账号和密码均为 `chatAdmin`。

在左侧的菜单栏中选择“运维中心”，选择“IM配置管理”，即可进入OpenIMServer配置中心页面。

配置中心功能默认不启用，第一次进入配置中心页面需要点击“启用配置管理”开启。



![i0](config-center.assets/i0.png)

### 查看配置

点击“IM配置管理”后，界面左上角会显示部署方式以及当前版本。配置中心仅在源码和docker部署方式下生效，在kubernetes环境下不生效。
如下图所示为源码部署、服务端为3.8.2版本：

![i1](config-center.assets/i1.png)

`Common Configuration`表示常用的配置，下方展示了常用的配置字段，鼠标悬浮于字段上方可查看字段含义，如下图所示：

![i2](config-center.assets/i2.png)

### 编辑配置

鼠标点击`Common Configuration`下的配置字段或者点击下方各个配置文件右上角的“编辑”按钮，即可对配置文件进行修改。修改后，点击“保存”，即可更新配置，系统会自动重启相关的服务以应用新的配置。如下图所示：

![i3](config-center.assets/i3.png)

![i4](config-center.assets/i4.png)



### 重启系统/重置配置

配置中心右上角有 `重启系统 `和 `重置配置 `两个按钮。

如果您发现在某些极端情况下，修改了配置之后系统没有正确应用，可点击 `重启系统 `保证配置被正确加载。

 `重置配置 `表示系统将重新以本地配置文件覆盖配置中心的配置，这样会导致之前所有在配置中心的修改全部丢失。
如在源码部署时修改了本地配置文件，或在docker部署时设置了环境变量，您希望以本地配置为准，则可以点击 `重置配置 `


![i5](config-center.assets/i5.png)

### 关闭配置中心

点击上方“关闭配置管理”按钮，可关闭配置中心。关闭配置中心以后，系统以本地配置为准，之前的所有关于配置的修改都不再生效。

## 注意事项

1. 配置中心启用时，在本地配置文件的修改无法生效，只能通过配置中心进行配置的修改。
2. 配置中心一旦关闭，会丢失在开启过程中进行的配置。
3. 配置中心启用时，重启服务，已经修改的配置依然生效。
4. 重置配置，会导致之前所有在配置中心的修改全部丢失。