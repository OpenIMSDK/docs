"use strict";(self.webpackChunkopenim_docs=self.webpackChunkopenim_docs||[]).push([[64864],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),d=i,g=c["".concat(s,".").concat(d)]||c[d]||m[d]||o;return n?r.createElement(g,a(a({ref:t},u),{},{components:n})):r.createElement(g,a({ref:t},u))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:i,a[1]=l;for(var p=2;p<o;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},72753:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>c});n(67294);var r=n(3905);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const l={},s="oimws Deployment - Planned for Deprecation",p={unversionedId:"gettingStarted/jssdk",id:"gettingStarted/jssdk",title:"oimws Deployment - Planned for Deprecation",description:"OpenIM's Two Versions of JSSDK",source:"@site/i18n/en/docusaurus-plugin-content-docs-guides/current/gettingStarted/jssdk.mdx",sourceDirName:"gettingStarted",slug:"/gettingStarted/jssdk",permalink:"/guides/gettingStarted/jssdk",draft:!1,editUrl:"https://github.com/OpenIMSDK/docs/tree/main/docs/guides/gettingStarted/jssdk.mdx",tags:[],version:"current",lastUpdatedAt:1724417933,formattedLastUpdatedAt:"Aug 23, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Environment and Components",permalink:"/guides/gettingStarted/env-comp"},next:{title:"Nginx Domain Configuration",permalink:"/guides/gettingStarted/nginxDomainConfig"}},u={},c=[{value:"OpenIM&#39;s Two Versions of JSSDK",id:"openims-two-versions-of-jssdk",level:2},{value:"1. WASM Version",id:"1-wasm-version",level:3},{value:"2. Pure JS Version",id:"2-pure-js-version",level:3},{value:"OIMWS Overview",id:"oimws-overview",level:2},{value:"Installation",id:"installation",level:2},{value:"Running OIMWS",id:"running-oimws",level:2},{value:"Parameter Descriptions",id:"parameter-descriptions",level:3},{value:"Running Example",id:"running-example",level:3}],m={toc:c},d="wrapper";function g(e){var{components:t}=e,n=a(e,["components"]);return(0,r.kt)(d,o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},m,n),{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"oimws-deployment---planned-for-deprecation"},"oimws Deployment - Planned for Deprecation"),(0,r.kt)("h2",{id:"openims-two-versions-of-jssdk"},"OpenIM's Two Versions of JSSDK"),(0,r.kt)("p",null,"OpenIM provides two versions of its JSSDK, each tailored for different use cases and scenarios:"),(0,r.kt)("h3",{id:"1-wasm-version"},"1. WASM Version"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/openimsdk/open-im-sdk-web-wasm"},"Repository Link")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Advantages"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Superior Performance"),": Built using WebAssembly (WASM), resulting in higher efficiency."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Local Message Storage"),": Messages are stored locally, speeding up data processing.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Disadvantages"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Large File Size"),": The package size is relatively large, approximately 20MB before compression."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Incompatible with Mini Programs"),": Cannot be used in mini programs.")),(0,r.kt)("h3",{id:"2-pure-js-version"},"2. Pure JS Version"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/openimsdk/open-im-sdk-web"},"Repository Link")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Advantages"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"High Compatibility"),": Does not depend on a specific tech stack, allowing it to be used in more environments and platforms.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Disadvantages"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Relatively Lower Performance"),": Performance is affected as historical messages need to be fetched from the server.")),(0,r.kt)("h2",{id:"oimws-overview"},"OIMWS Overview"),(0,r.kt)("p",null,"OIMWS (OpenIM WebSocket) is a server-side solution specifically designed for OpenIM\u2019s pure JS SDK. It handles all WebSocket requests coming from the JSSDK."),(0,r.kt)("p",null,"This guide will provide detailed instructions on how to install and run OIMWS, as well as a comprehensive explanation of its key features and configuration parameters."),(0,r.kt)("h2",{id:"installation"},"Installation"),(0,r.kt)("p",null,"You can install the OIMWS SDK Server in two ways:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Clone the GitHub Repository"),": Clone the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/openimsdk/oimws"},"OIMWS GitHub Repository")," to your local environment:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/openimsdk/oimws\n")),(0,r.kt)("p",{parentName:"li"},"After cloning, please read the README file."))),(0,r.kt)("h2",{id:"running-oimws"},"Running OIMWS"),(0,r.kt)("p",null,"Before running the OIMWS SDK Server, ensure you have installed it correctly."),(0,r.kt)("p",null,"The program requires certain parameters to be configured. You can set these parameters via command-line flags. Below are the main functions and parameters:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"openimApi: 'http://127.0.0.1:10002'\nopenimWs: 'ws://127.0.0.1:10001'\nsdkWsPort: [10003]\ndbDir: '../../../../db/'\n")),(0,r.kt)("h3",{id:"parameter-descriptions"},"Parameter Descriptions"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"openimApi")),": The OpenIM API listening address, defaulting to ",(0,r.kt)("inlineCode",{parentName:"li"},"http://127.0.0.1:10002"),"."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"openimWs")),": The OpenIM WebSocket listening address, defaulting to ",(0,r.kt)("inlineCode",{parentName:"li"},"ws://127.0.0.1:10001"),"."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"sdkWsPort")),": The port on which OpenIMSDK WebSocket listens, defaulting to ",(0,r.kt)("inlineCode",{parentName:"li"},"10003"),"."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"dbDir")),": The directory for OpenIM\u2019s database, defaulting to the ",(0,r.kt)("inlineCode",{parentName:"li"},"_output/db")," folder in the current directory.")),(0,r.kt)("h3",{id:"running-example"},"Running Example"),(0,r.kt)("p",null,"To modify these parameters from the command line, you can add flags to customize them. For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Compile the project\nmage\n# Run the project\nmage start\n")),(0,r.kt)("p",null,"This will start the server, using the specified parameters to configure the service."))}g.isMDXComponent=!0}}]);